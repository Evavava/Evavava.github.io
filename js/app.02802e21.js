(function(e){function t(t){for(var o,i,r=t[0],s=t[1],u=t[2],l=0,f=[];l<r.length;l++)i=r[l],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&f.push(a[i][0]),a[i]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);d&&d(t);while(f.length)f.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],o=!0,i=1;i<n.length;i++){var r=n[i];0!==a[r]&&(o=!1)}o&&(c.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},i={app:0},a={app:0},c=[];function r(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-057991b0":"135dc4a2","chunk-10b9a0fb":"9b6912fc","chunk-151ff8dc":"d3b2bb82","chunk-c6aea08e":"209ff272","chunk-d981eada":"ae85fc4c","chunk-1a13f944":"395490d1","chunk-723f109e":"024cfe00"}[e]+".js"}function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-057991b0":1,"chunk-10b9a0fb":1,"chunk-151ff8dc":1,"chunk-c6aea08e":1,"chunk-d981eada":1,"chunk-1a13f944":1,"chunk-723f109e":1};i[e]?t.push(i[e]):0!==i[e]&&n[e]&&t.push(i[e]=new Promise((function(t,n){for(var o="css/"+({}[e]||e)+"."+{"chunk-057991b0":"c10e0d6c","chunk-10b9a0fb":"3bf7971e","chunk-151ff8dc":"3a86cbee","chunk-c6aea08e":"c8dbece9","chunk-d981eada":"9a152e5b","chunk-1a13f944":"c3040c44","chunk-723f109e":"cedd17b2"}[e]+".css",a=s.p+o,c=document.getElementsByTagName("link"),r=0;r<c.length;r++){var u=c[r],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===o||l===a))return t()}var f=document.getElementsByTagName("style");for(r=0;r<f.length;r++){u=f[r],l=u.getAttribute("data-href");if(l===o||l===a)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var o=t&&t.target&&t.target.src||a,c=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=o,delete i[e],d.parentNode.removeChild(d),n(c)},d.href=a;var h=document.getElementsByTagName("head")[0];h.appendChild(d)})).then((function(){i[e]=0})));var o=a[e];if(0!==o)if(o)t.push(o[2]);else{var c=new Promise((function(t,n){o=a[e]=[t,n]}));t.push(o[2]=c);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=r(e);var f=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(d);var n=a[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;f.message="Loading chunk "+e+" failed.\n("+o+": "+i+")",f.name="ChunkLoadError",f.type=o,f.request=i,n[1](f)}a[e]=void 0}};var d=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var f=0;f<u.length;f++)t(u[f]);var d=l;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0072":function(e,t,n){"use strict";n("08fa")},"08fa":function(e,t,n){},"0e4a":function(e,t,n){},"101f":function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}));var o=n("a002"),i=n.n(o);function a(e,t,n,o){i.a.setItem(e,t).then((function(e){n&&n(e)})).catch((function(e){o&&o(e)}))}function c(e,t){i.a.getItem(e,(function(e,n){t(e,n)}))}function r(e,t,n){i.a.removeItem(e).then((function(){t&&t()})).catch((function(e){n&&n(e)}))}function s(e,t){i.a.clear().then((function(){e&&e()})).catch((function(e){t&&t(e)}))}},"1cf9":function(e,t,n){"use strict";n("5485")},2676:function(e,t,n){e.exports=n.p+"img/star-right.71b561b3.png"},"2f32":function(e,t,n){"use strict";var o=n("d4ec"),i=n("bee2"),a=n("7a23"),c=Object(a["O"])("data-v-25494924");Object(a["x"])("data-v-25494924");var r={class:"toast-bg"},s={class:"toast-wrapper"};Object(a["v"])();var u=c((function(e,t,n,o,i,u){return Object(a["u"])(),Object(a["g"])(a["c"],{name:"fade"},{default:c((function(){return[Object(a["j"])("div",r,[Object(a["j"])("div",s,[Object(a["j"])("div",{class:"toast",innerHTML:n.text,ref:"toast"},null,8,["innerHTML"])])])]})),_:1})})),l=(n("a9e3"),{name:"toast",props:{text:[String,Number]}});n("41c8");l.render=u,l.__scopeId="data-v-25494924";var f=l,d=function(){function e(t){Object(o["a"])(this,e),this.messageInstance=Object(a["f"])(f,{text:t}),this.mountNode=document.createElement("div"),document.body.appendChild(this.mountNode),this.messageInstance.mount(this.mountNode)}return Object(i["a"])(e,[{key:"myUnmount",value:function(){this.messageInstance.unmount(),document.body.removeChild(this.mountNode)}},{key:"setTimeUnmount",value:function(e){var t=this;setTimeout((function(){t.myUnmount()}),e)}}]),e}();t["a"]=d},"36d6":function(e,t,n){},"3d0e":function(e,t,n){},"3d23":function(e,t,n){},"41c8":function(e,t,n){"use strict";n("5148")},4609:function(e,t,n){e.exports=n.p+"img/heart-right.003340dd.png"},4685:function(e,t,n){},"4ad3":function(e,t,n){},"4db6":function(e,t,n){},5148:function(e,t,n){},5158:function(e,t,n){"use strict";n.r(t);var o=n("7a23"),i=Object(o["O"])("data-v-f02b9324");Object(o["x"])("data-v-f02b9324");var a={class:"ebook-reader"},c=Object(o["j"])("div",{id:"read"},null,-1);Object(o["v"])();var r=i((function(e,t,n,i,r,s){return Object(o["u"])(),Object(o["g"])("div",a,[c,Object(o["j"])("div",{class:"ebook-reader-mask",onClick:t[1]||(t[1]=function(){return s.onMaskClick&&s.onMaskClick.apply(s,arguments)}),onTouchmove:t[2]||(t[2]=function(){return s.move&&s.move.apply(s,arguments)}),onTouchend:t[3]||(t[3]=function(){return s.moveEnd&&s.moveEnd.apply(s,arguments)}),onMousedown:t[4]||(t[4]=Object(o["N"])((function(){return s.onMouseEnter&&s.onMouseEnter.apply(s,arguments)}),["left"])),onMousemove:t[5]||(t[5]=Object(o["N"])((function(){return s.onMouseMove&&s.onMouseMove.apply(s,arguments)}),["left"])),onMouseup:t[6]||(t[6]=Object(o["N"])((function(){return s.onMouseEnd&&s.onMouseEnd.apply(s,arguments)}),["left"]))},null,32)])})),s=n("c819");n("0072");s["a"].render=r,s["a"].__scopeId="data-v-f02b9324";t["default"]=s["a"]},"51a1":function(e,t,n){"use strict";n("608b")},5485:function(e,t,n){},5573:function(e,t,n){},"55ba":function(e,t,n){"use strict";n("dbcd")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23"),i=Object(o["O"])("data-v-a2ee8a94");Object(o["x"])("data-v-a2ee8a94");var a={id:"app"};Object(o["v"])();var c=i((function(e,t,n,i,c,r){var s=Object(o["C"])("router-view");return Object(o["u"])(),Object(o["g"])("div",a,[Object(o["j"])(s)])})),r={name:"App"};document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector("html"),t=window.innerWidth/10;t=t>50?50:t,e.style.fontSize=t+"px"}));n("e272");r.render=c,r.__scopeId="data-v-a2ee8a94";var s=r,u=(n("d3b7"),n("3ca3"),n("ddb0"),n("6c02")),l=Object(o["O"])("data-v-745bd947");Object(o["x"])("data-v-745bd947");var f={class:"ebook",ref:"ebook"};Object(o["v"])();var d=l((function(e,t,n,i,a,c){var r=Object(o["C"])("ebook-title"),s=Object(o["C"])("ebook-header"),u=Object(o["C"])("ebook-reader"),l=Object(o["C"])("ebook-menu"),d=Object(o["C"])("ebook-footer"),h=Object(o["C"])("ebook-bookmark");return Object(o["u"])(),Object(o["g"])("div",f,[Object(o["j"])(r),Object(o["j"])(s),Object(o["j"])(u),Object(o["j"])(l),Object(o["j"])(d),Object(o["j"])(h)],512)})),h=n("5158"),b=Object(o["O"])("data-v-6700b9b3");Object(o["x"])("data-v-6700b9b3");var m={class:"title-wrapper"},p={class:"left"},g={class:"right"},v=Object(o["j"])("span",{class:"icon-shelf"},null,-1),j=Object(o["j"])("div",{class:"icon-wrapper"},[Object(o["j"])("span",{class:"icon-cart"})],-1),O=Object(o["j"])("div",{class:"icon-wrapper"},[Object(o["j"])("span",{class:"icon-more"})],-1);Object(o["v"])();var k=b((function(e,t,n,i,a,c){return Object(o["u"])(),Object(o["g"])(o["c"],{name:"slide-down"},{default:b((function(){return[Object(o["L"])(Object(o["j"])("div",m,[Object(o["j"])("div",p,[Object(o["j"])("span",{class:"icon-back",onClick:t[1]||(t[1]=function(){return c.back&&c.back.apply(c,arguments)})})]),Object(o["j"])("div",g,[Object(o["j"])("div",{class:"icon-wrapper",onClick:t[2]||(t[2]=function(){return c.gotoStoreShelf&&c.gotoStoreShelf.apply(c,arguments)})},[v]),j,O])],512),[[o["J"],e.menuVisible]])]})),_:1})})),S=n("ac0d"),y={mixins:[S["a"]],methods:{back:function(){this.$router.go(-1)},gotoStoreShelf:function(){this.$router.push("/store/shelf")}}};n("1cf9");y.render=k,y.__scopeId="data-v-6700b9b3";var T=y,E=Object(o["O"])("data-v-11757739");Object(o["x"])("data-v-11757739");var w={class:"icon-wrapper"},_={class:"icon-wrapper"},P={class:"icon-wrapper"},x={class:"icon-wrapper"};Object(o["v"])();var F=E((function(e,t,n,i,a,c){var r=Object(o["C"])("ebook-setting-font"),s=Object(o["C"])("ebook-setting-font-popup"),u=Object(o["C"])("ebook-setting-theme"),l=Object(o["C"])("ebook-setting-progress"),f=Object(o["C"])("ebook-slide");return Object(o["u"])(),Object(o["g"])("div",null,[Object(o["j"])(o["c"],{name:"slide-up"},{default:E((function(){return[Object(o["L"])(Object(o["j"])("div",{class:["menu-wrapper",{"hide-box-shadow":!e.menuVisible||e.settingVisible>=0}]},[Object(o["j"])("div",w,[Object(o["j"])("span",{class:"icon-menu icon",onClick:t[1]||(t[1]=function(e){return c.showSetting(3)})})]),Object(o["j"])("div",_,[Object(o["j"])("span",{class:"icon-progress icon",onClick:t[2]||(t[2]=function(e){return c.showSetting(2)})})]),Object(o["j"])("div",P,[Object(o["j"])("span",{class:"icon-bright icon",onClick:t[3]||(t[3]=function(e){return c.showSetting(1)})})]),Object(o["j"])("div",x,[Object(o["j"])("span",{class:"icon-A icon",onClick:t[4]||(t[4]=function(e){return c.showSetting(0)})})])],2),[[o["J"],e.menuVisible]])]})),_:1}),Object(o["j"])(r),Object(o["j"])(s),Object(o["j"])(u),Object(o["j"])(l),Object(o["j"])(f)])})),L=Object(o["O"])("data-v-5b58ebcc");Object(o["x"])("data-v-5b58ebcc");var I={class:"setting-wrapper"},C={class:"setting-font-size"},N={class:"select"},B=Object(o["j"])("div",{class:"line"},null,-1),A={class:"point-wrapper"},M={class:"point"},V=Object(o["j"])("div",{class:"small-point"},null,-1),$=Object(o["j"])("div",{class:"line"},null,-1),D={class:"setting-font-family-text-wrapper"},G={class:"setting-font-family-text"},R=Object(o["j"])("div",{class:"setting-font-family-icon-wrapper"},[Object(o["j"])("span",{class:"icon-forward"})],-1);Object(o["v"])();var z=L((function(e,t,n,i,a,c){return Object(o["u"])(),Object(o["g"])(o["c"],{name:"slide-up"},{default:L((function(){return[Object(o["L"])(Object(o["j"])("div",I,[Object(o["j"])("div",C,[Object(o["j"])("div",{class:"preview",style:{fontSize:a.fontSizeList[0].fontSize+"px"}}," A ",4),Object(o["j"])("div",N,[(Object(o["u"])(!0),Object(o["g"])(o["a"],null,Object(o["A"])(a.fontSizeList,(function(t,n){return Object(o["u"])(),Object(o["g"])("div",{class:"select-wrapper",key:n,onClick:function(e){return c.setFontSize(t.fontSize)}},[B,Object(o["j"])("div",A,[Object(o["L"])(Object(o["j"])("div",M,[V],512),[[o["J"],e.defaultFontSize===t.fontSize]])]),$],8,["onClick"])})),128))]),Object(o["j"])("div",{class:"preview",style:{fontSize:a.fontSizeList[a.fontSizeList.length-1].fontSize+"px"}}," A ",4)]),Object(o["j"])("div",{class:"setting-font-family",onClick:t[1]||(t[1]=function(){return c.showFontFamilyPopup&&c.showFontFamilyPopup.apply(c,arguments)})},[Object(o["j"])("div",D,[Object(o["j"])("span",G,Object(o["G"])(e.defaultFontFamily),1)]),R])],512),[[o["J"],e.menuVisible&&0==e.settingVisible]])]})),_:1})})),Y=n("5de6"),H=n("e8ec"),W={mixins:[S["a"]],data:function(){return{fontSizeList:Y["b"]}},methods:{setFontSize:function(e){this.setDefaultFontSize(e),Object(H["n"])(this.fileName,e),this.currentBook.rendition.themes.fontSize(e+"px")},showFontFamilyPopup:function(){this.setFontFamilyVisible(!0)}}};n("68d9");W.render=z,W.__scopeId="data-v-5b58ebcc";var U=W,J=Object(o["O"])("data-v-4141ee0f");Object(o["x"])("data-v-4141ee0f");var K={class:"ebook-popup-list"},q={class:"ebook-popup-title"},X=Object(o["j"])("span",{class:"icon-down2"},null,-1),Z={class:"ebook-popup-title-text"},Q={class:"ebook-popup-list-wrapper"},ee={key:0,class:"ebook-popup-item-check"},te=Object(o["j"])("span",{class:"icon-check"},null,-1);Object(o["v"])();var ne=J((function(e,t,n,i,a,c){return Object(o["u"])(),Object(o["g"])(o["c"],{name:"popup-slide-up"},{default:J((function(){return[Object(o["L"])(Object(o["j"])("div",K,[Object(o["j"])("div",q,[Object(o["j"])("div",{class:"ebook-popup-title-icon",onClick:t[1]||(t[1]=function(){return c.hide&&c.hide.apply(c,arguments)})},[X]),Object(o["j"])("span",Z,Object(o["G"])(e.$t("book.selectFont")),1)]),Object(o["j"])("div",Q,[(Object(o["u"])(!0),Object(o["g"])(o["a"],null,Object(o["A"])(a.fontFamilyList,(function(e,t){return Object(o["u"])(),Object(o["g"])("div",{class:"ebook-popup-item",key:t,onClick:function(t){return c.setFontFamily(e.font)}},[Object(o["j"])("div",{class:["ebook-popup-item-text",{selected:c.isSelected(e)}]},Object(o["G"])(e.font),3),c.isSelected(e)?(Object(o["u"])(),Object(o["g"])("div",ee,[te])):Object(o["h"])("",!0)],8,["onClick"])})),128))])],512),[[o["J"],e.fontFamilyVisible]])]})),_:1})})),oe={mixins:[S["a"]],data:function(){return{fontFamilyList:Y["a"]}},methods:{hide:function(){this.setFontFamilyVisible(!1)},isSelected:function(e){return this.defaultFontFamily===e.font},setFontFamily:function(e){this.setDefaultFontFamily(e),Object(H["m"])(this.fileName,e),"Default"===e?this.currentBook.rendition.themes.font("Times New Roman"):this.currentBook.rendition.themes.font(e)}}};n("9a38");oe.render=ne,oe.__scopeId="data-v-4141ee0f";var ie=oe,ae=(n("b0c0"),Object(o["O"])("data-v-5da49079"));Object(o["x"])("data-v-5da49079");var ce={class:"setting-wrapper"},re={class:"setting-theme"};Object(o["v"])();var se=ae((function(e,t,n,i,a,c){return Object(o["u"])(),Object(o["g"])(o["c"],{name:"slide-up"},{default:ae((function(){return[Object(o["L"])(Object(o["j"])("div",ce,[Object(o["j"])("div",re,[(Object(o["u"])(!0),Object(o["g"])(o["a"],null,Object(o["A"])(e.themeList,(function(t,n){return Object(o["u"])(),Object(o["g"])("div",{class:"setting-theme-item",key:n,onClick:function(e){return c.setTheme(n)}},[Object(o["j"])("div",{class:["preview",{selected:t.name===e.defaultTheme}],style:{background:t.style.body.background}},null,6),Object(o["j"])("div",{class:["text",{selected:t.name===e.defaultTheme}]},Object(o["G"])(t.alias),3)],8,["onClick"])})),128))])],512),[[o["J"],e.menuVisible&&1===e.settingVisible]])]})),_:1})})),ue={mixins:[S["a"]],methods:{setTheme:function(e){var t=this,n=this.themeList[e];this.setDefaultTheme(n.name).then((function(){t.initGlobalStyle();var n=t.themeList[e].style.body;for(var o in n)t.currentBook.rendition.themes.override(o,n[o],!0);t.initGlobalStyle()})),Object(H["r"])(this.fileName,n.name)}}};n("a6dd");ue.render=se,ue.__scopeId="data-v-5da49079";var le=ue,fe=Object(o["O"])("data-v-0a2726af");Object(o["x"])("data-v-0a2726af");var de={class:"setting-wrapper"},he={class:"setting-progress"},be={class:"read-time-wrapper"},me={class:"read-time-text"},pe=Object(o["j"])("span",{class:"icon-forward"},null,-1),ge={class:"progress-wrapper"},ve=Object(o["j"])("span",{class:"icon-back"},null,-1),je=Object(o["j"])("span",{class:"icon-forward"},null,-1),Oe={class:"text-wrapper"},ke={class:"progress-section-text"};Object(o["v"])();var Se=fe((function(e,t,n,i,a,c){return Object(o["u"])(),Object(o["g"])(o["c"],{name:"slide-up"},{default:fe((function(){return[Object(o["L"])(Object(o["j"])("div",de,[Object(o["j"])("div",he,[Object(o["j"])("div",be,[Object(o["j"])("span",me,Object(o["G"])(e.getReadTimeText()),1),pe]),Object(o["j"])("div",ge,[Object(o["j"])("div",{class:"progress-icon-wrapper",onClick:t[1]||(t[1]=function(e){return c.prevSection()})},[ve]),Object(o["j"])("input",{class:"progress",type:"range",max:"100",min:"0",step:"1",onChange:t[2]||(t[2]=function(e){return c.onProgressChange(e.target.value)}),onInput:t[3]||(t[3]=function(e){return c.onProgressInput(e.target.value)}),value:e.progress,disabled:!e.bookAvailable,ref:"progress"},null,40,["value","disabled"]),Object(o["j"])("div",{class:"progress-icon-wrapper",onClick:t[4]||(t[4]=function(e){return c.nextSection()})},[je])]),Object(o["j"])("div",Oe,[Object(o["j"])("span",ke,Object(o["G"])(c.getSectionName),1),Object(o["j"])("span",null,"("+Object(o["G"])(e.bookAvailable?e.progress+"%":"加载中...")+") ",1)])])],512),[[o["J"],e.menuVisible&&2===e.settingVisible]])]})),_:1})})),ye={mixins:[S["a"]],computed:{getSectionName:function(){return this.navigation&&this.navigation.length&&this.section?this.navigation[this.section].label:""}},methods:{onProgressChange:function(e){if(this.pagelist){var t=this.currentBook.locations.cfiFromPercentage(e/100),n=Math.floor(e/100*this.pagelist.length);this.display(t,n)}},onProgressInput:function(e){this.setProgress(e)},updateProgressBg:function(){this.$refs.progress.style.cssText="background-size: ".concat(this.progress,"% 100% !important")},prevSection:function(){this.section>0&&this.bookAvailable&&this.displaySection(this.section-1)},nextSection:function(){this.bookAvailable&&this.section<this.navigation.length-1&&this.displaySection(this.section+1)},displaySection:function(e){var t=this.navigation[e];t&&t.href&&t.page&&this.display(t.href,t.page)}},mounted:function(){this.updateProgressBg()},watch:{progress:function(){this.updateProgressBg()}}};n("d723");ye.render=Se,ye.__scopeId="data-v-0a2726af";var Te=ye,Ee=Object(o["O"])("data-v-1e348b78");Object(o["x"])("data-v-1e348b78");var we={class:"slide-content-wrapper"},_e={key:0,class:"content"},Pe={key:0,class:"content-page-wrapper"},xe={class:"content-page"},Fe={class:"content-page-tab"},Le={key:1,class:"content-empty"};Object(o["v"])();var Ie=Ee((function(e,t,n,i,a,c){var r=Object(o["C"])("ebook-loading");return Object(o["u"])(),Object(o["g"])(o["c"],{name:"fade"},{default:Ee((function(){return[Object(o["L"])(Object(o["j"])("div",we,[Object(o["j"])(o["c"],{name:"fade-slide-right"},{default:Ee((function(){return[3==e.settingVisible?(Object(o["u"])(),Object(o["g"])("div",_e,[e.bookAvailable?(Object(o["u"])(),Object(o["g"])("div",Pe,[Object(o["j"])("div",xe,[(Object(o["u"])(),Object(o["g"])(Object(o["E"])(1===a.currentTab?a.content:a.bookmark)))]),Object(o["j"])("div",Fe,[Object(o["j"])("div",{class:["content-page-tab-item",{selected:1===a.currentTab}],onClick:t[1]||(t[1]=function(e){return c.selectTab(1)})},Object(o["G"])(e.$t("book.navigation")),3),Object(o["j"])("div",{class:["content-page-tab-item",{selected:2===a.currentTab}],onClick:t[2]||(t[2]=function(e){return c.selectTab(2)})},Object(o["G"])(e.$t("book.bookmark")),3)])])):(Object(o["u"])(),Object(o["g"])("div",Le,[Object(o["j"])(r)]))])):Object(o["h"])("",!0)]})),_:1}),Object(o["j"])("div",{class:"content-bg",onClick:t[3]||(t[3]=function(t){return e.hideTitleAndMenu()})})],512),[[o["J"],e.menuVisible&&3===e.settingVisible]])]})),_:1})})),Ce=(n("ac1f"),n("841c"),Object(o["O"])("data-v-162ef9e0"));Object(o["x"])("data-v-162ef9e0");var Ne={class:"ebook-slide-contents"},Be={class:"slide-contents-search-wrapper"},Ae={class:"slide-contents-search-input-wrapper"},Me=Object(o["j"])("div",{class:"slide-contents-search-icon"},[Object(o["j"])("span",{class:"icon-search"})],-1),Ve={class:"slide-contents-book-wrapper"},$e={class:"slide-contents-book-img-wrapper"},De={class:"slide-contents-book-info-wrapper"},Ge={class:"slide-contents-book-title"},Re={class:"slide-contents-book-title-text"},ze={class:"slide-contents-book-author"},Ye={class:"slide-contents-book-author-text"},He={class:"slide-contents-book-progress-wrapper"},We={class:"slide-contents-book-progress"},Ue={class:"progress"},Je={class:"progress-text"},Ke={class:"slide-contents-book-time"},qe={class:"slide-contents-item-page"};Object(o["v"])();var Xe=Ce((function(e,t,n,i,a,c){var r=Object(o["C"])("scroll");return Object(o["u"])(),Object(o["g"])("div",Ne,[Object(o["j"])("div",Be,[Object(o["j"])("div",Ae,[Me,Object(o["L"])(Object(o["j"])("input",{type:"text",class:"slide-contents-search-input",placeholder:e.$t("book.searchHint"),onClick:t[1]||(t[1]=function(e){return c.showSearchPage()}),"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.searchText=e}),onKeyup:t[3]||(t[3]=Object(o["M"])(Object(o["N"])((function(e){return c.search()}),["exact"]),["enter"]))},null,40,["placeholder"]),[[o["I"],a.searchText]])]),a.searchVisible?(Object(o["u"])(),Object(o["g"])("div",{key:0,class:"slide-contents-search-cancel",onClick:t[4]||(t[4]=function(e){return c.hideSearchPage()})},Object(o["G"])(e.$t("book.cancel")),1)):Object(o["h"])("",!0)]),Object(o["L"])(Object(o["j"])("div",Ve,[Object(o["j"])("div",$e,[Object(o["j"])("img",{src:e.cover,class:"slide-contents-book-img"},null,8,["src"])]),Object(o["j"])("div",De,[Object(o["j"])("div",Ge,[Object(o["j"])("span",Re,Object(o["G"])(e.metadata.title),1)]),Object(o["j"])("div",ze,[Object(o["j"])("span",Ye,Object(o["G"])(e.metadata.creator),1)])]),Object(o["j"])("div",He,[Object(o["j"])("div",We,[Object(o["j"])("span",Ue,Object(o["G"])(e.progress+"%"),1),Object(o["j"])("span",Je,Object(o["G"])(e.$t("book.haveRead2")),1)]),Object(o["j"])("div",Ke,Object(o["G"])(e.getReadTimeText()),1)])],512),[[o["J"],!a.searchVisible]]),Object(o["L"])(Object(o["j"])(r,{class:"slide-contents-list",top:156,bottom:48},{default:Ce((function(){return[(Object(o["u"])(!0),Object(o["g"])(o["a"],null,Object(o["A"])(e.navigation,(function(t,n){return Object(o["u"])(),Object(o["g"])("div",{class:"slide-contents-item",key:n},[Object(o["j"])("span",{class:["slide-contents-item-label",{selected:e.section===n}],style:c.contentItemStyle(t),onClick:function(e){return c.displayContent(t.href,n,!1)}},Object(o["G"])(t.label),15,["onClick"]),Object(o["j"])("span",qe,Object(o["G"])(t.page),1)])})),128))]})),_:1},512),[[o["J"],!a.searchVisible]]),Object(o["L"])(Object(o["j"])(r,{class:"slide-search-list",to:66,bottom:48},{default:Ce((function(){return[(Object(o["u"])(!0),Object(o["g"])(o["a"],null,Object(o["A"])(a.searchList,(function(e,t){return Object(o["u"])(),Object(o["g"])("div",{class:"slide-search-item",key:t,innerHTML:e.excerpt,onClick:function(n){return c.displayContent(e.cfi,t,!0)}},null,8,["innerHTML","onClick"])})),128))]})),_:1},512),[[o["J"],a.searchVisible]])])})),Ze=(n("d81d"),n("5319"),n("7db0"),n("99af"),n("6701")),Qe=n("fa7d"),et={mixins:[S["a"]],components:{Scroll:Ze["a"]},data:function(){return{searchVisible:!1,searchList:[],searchText:""}},methods:{search:function(){var e=this;this.searchText&&this.searchText.length>0&&this.doSearch(this.searchText).then((function(t){e.searchList=t,e.searchList.map((function(t){return t.excerpt=t.excerpt.replace(e.searchText,'<span class="content-search-text">'.concat(e.searchText,"</span>")),t}))}))},doSearch:function(e){var t=this;return Promise.all(this.currentBook.spine.spineItems.map((function(n){return n.load(t.currentBook.load.bind(t.currentBook)).then(n.find.bind(n,e)).finally(n.unload.bind(n))}))).then((function(e){return Promise.resolve([].concat.apply([],e))}))},displayContent:function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.display(e,this.navigation[t].page,(function(){n.hideTitleAndMenu(),o&&n.currentBook.rendition.annotations.highlight(e)}))},showSearchPage:function(){this.searchVisible=!0},hideSearchPage:function(){this.searchVisible=!1,this.searchText="",this.searchList=[]},contentItemStyle:function(e){return{marginLeft:"".concat(Object(Qe["a"])(15*e.level),"rem")}}}};n("cc53");et.render=Xe,et.__scopeId="data-v-162ef9e0";var tt=et,nt=Object(o["O"])("data-v-553a87aa");Object(o["x"])("data-v-553a87aa");var ot={class:"ebook-slide-bookmark"},it={class:"slide-bookmark-title"},at=Object(o["j"])("div",{class:"slide-bookmark-item-icon"},[Object(o["j"])("div",{class:"icon-bookmark"})],-1),ct={class:"slide-bookmark-item-text"};Object(o["v"])();var rt=nt((function(e,t,n,i,a,c){var r=Object(o["C"])("scroll");return Object(o["u"])(),Object(o["g"])("div",ot,[Object(o["j"])("div",it,Object(o["G"])(e.$t("book.bookmark"))+" "+Object(o["G"])(a.bookmark?a.bookmark.length:0),1),Object(o["j"])(r,{class:"slide-bookmark-list",top:48,bottom:48},{default:nt((function(){return[(Object(o["u"])(!0),Object(o["g"])(o["a"],null,Object(o["A"])(a.bookmark,(function(e,t){return Object(o["u"])(),Object(o["g"])("div",{class:"slide-bookmark-item",key:t,onClick:function(t){return c.displayBookmark(e)}},[at,Object(o["j"])("div",ct,Object(o["G"])(e.text),1)],8,["onClick"])})),128))]})),_:1})])})),st={mixins:[S["a"]],components:{Scroll:Ze["a"]},data:function(){return{bookmark:null}},mounted:function(){this.bookmark=Object(H["b"])(this.fileName)},methods:{displayBookmark:function(e){var t=this;this.display(e.cfi,e.currentPageIndex,(function(){t.hideTitleAndMenu()}))}}};n("51a1");st.render=rt,st.__scopeId="data-v-553a87aa";var ut=st,lt=Object(o["O"])("data-v-06a5f1ea");Object(o["x"])("data-v-06a5f1ea");var ft={class:"ebook-loading"},dt={class:"ebook-loading-wrapper"},ht=Object(o["j"])("div",{class:"ebook-loading-center"},null,-1);Object(o["v"])();var bt=lt((function(e,t,n,i,a,c){return Object(o["u"])(),Object(o["g"])("div",ft,[Object(o["j"])("div",dt,[(Object(o["u"])(!0),Object(o["g"])(o["a"],null,Object(o["A"])(a.data,(function(e,t){return Object(o["u"])(),Object(o["g"])("div",{class:"ebook-loading-item",key:t},[(Object(o["u"])(!0),Object(o["g"])(o["a"],null,Object(o["A"])(e,(function(e,t){return Object(o["u"])(),Object(o["g"])("div",{class:"ebook-loading-line-wrapper",key:t},[Object(o["j"])("div",{class:"ebook-loading-line",ref:c.setLineRef},null,512),Object(o["j"])("div",{class:"ebook-loading-mask",ref:c.setMaskRef},null,512)])})),128))])})),128)),ht])])})),mt={data:function(){return{data:[[{},{},{}],[{},{},{}]],lines:[],masks:[],maskWidth:[{value:0},{value:0},{value:0},{value:0},{value:0},{value:0}],lineWidth:[{value:16},{value:16},{value:16},{value:16},{value:16},{value:16}],add:!0,end:!1}},mounted:function(){var e=this;this.task=setInterval((function(){for(var t in e.masks){var n=e.masks[t],o=e.lines[t],i=e.maskWidth[t],a=e.lineWidth[t];if("0"===t)e.add&&i.value<16?(i.value++,a.value--):!e.add&&a.value<16&&(i.value--,a.value++);else if(e.add&&i.value<16){var c=e.maskWidth[t-1];c.value>=8&&(i.value++,a.value--)}else if(!e.add&&a.value<16){var r=e.lineWidth[t-1];r.value>=8&&(i.value--,a.value++)}n.style.width="".concat(Object(Qe["a"])(i.value),"rem"),n.style.flex="0 0 ".concat(Object(Qe["a"])(i.value),"rem"),o.style.width="".concat(Object(Qe["a"])(a.value),"rem"),o.style.flex="0 0 ".concat(Object(Qe["a"])(a.value),"rem"),"5"===t&&(e.add?16===i.value&&(e.end=!0):0===i.value&&(e.end=!0),e.end&&(e.add=!e.add,e.end=!1))}}),20)},beforeUnmount:function(){this.task&&clearInterval(this.task),this.lines=[],this.masks=[]},methods:{setLineRef:function(e){this.lines.push(e)},setMaskRef:function(e){this.masks.push(e)}}};n("808b");mt.render=bt,mt.__scopeId="data-v-06a5f1ea";var pt=mt,gt={mixins:[S["a"]],components:{EbookSlideContents:tt,EbookSlideBookmark:ut,EbookLoading:pt},data:function(){return{currentTab:1,selected:"selected",content:"ebook-slide-contents",bookmark:"ebook-slide-bookmark"}},methods:{selectTab:function(e){this.currentTab=e}}};n("c713");gt.render=Ie,gt.__scopeId="data-v-1e348b78";var vt=gt,jt={mixins:[S["a"]],components:{EbookSettingFont:U,EbookSettingFontPopup:ie,EbookSettingTheme:le,EbookSettingProgress:Te,EbookSlide:vt},methods:{showSetting:function(e){this.setSettingVisible(e)}}};n("a15f");jt.render=F,jt.__scopeId="data-v-11757739";var Ot=jt,kt=Object(o["O"])("data-v-e051f1c6");Object(o["x"])("data-v-e051f1c6");var St={class:"ebook-bookmark",ref:"ebookmark"},yt={class:"ebook-bookmark-text-wrapper"},Tt={class:"ebook-bookmark-down-wrapper",ref:"iconDown"},Et=Object(o["j"])("span",{class:"icon-down"},null,-1),wt={class:"ebook-bookmark-text"};Object(o["v"])();var _t=kt((function(e,t,n,i,a,c){var r=Object(o["C"])("bookmark");return Object(o["u"])(),Object(o["g"])("div",St,[Object(o["j"])("div",yt,[Object(o["j"])("div",Tt,[Et],512),Object(o["j"])("div",wt,Object(o["G"])(a.text),1)]),Object(o["j"])("div",{class:"ebook-bookmark-icon-wrapper",style:a.isFixed?c.fixedStyle:{}},[Object(o["j"])(r,{color:a.color,width:15,height:35},null,8,["color"])],4)],512)})),Pt=(n("25f0"),n("4de4"),Object(o["O"])("data-v-b7324e16")),xt=Pt((function(e,t,n,i,a,c){return Object(o["u"])(),Object(o["g"])("div",{class:"bookmark",style:c.style,ref:"bookmark"},null,4)})),Ft=(n("a9e3"),{props:{width:Number,height:Number,color:String},computed:{style:function(){return this.color?{borderColor:"".concat(this.color," ").concat(this.color," transparent ").concat(this.color)}:{}}},methods:{refresh:function(){this.height&&this.width&&(this.$refs.bookmark.style.borderWidth="".concat(Object(Qe["a"])(this.height-5),"rem \n                ").concat(Object(Qe["a"])(this.width/2),"rem \n                ").concat(Object(Qe["a"])(5),"rem \n                ").concat(Object(Qe["a"])(this.width/2),"rem"))}},mounted:function(){this.refresh()}});n("7bf4");Ft.render=xt,Ft.__scopeId="data-v-b7324e16";var Lt=Ft,It="#346cbc",Ct="#fff",Nt={mixins:[S["a"]],components:{Bookmark:Lt},data:function(){return{text:"",color:Ct,isFixed:!1}},computed:{height:function(){return Object(Qe["b"])(35)},threshold:function(){return Object(Qe["b"])(55)},fixedStyle:function(){return{position:"fixed",top:0,right:"".concat((window.innerWidth-this.$refs.ebookmark.clientWidth)/2,"px")}}},watch:{offsetY:function(e){!this.bookAvailable||this.menuVisible||this.settingVisible>=0||(e>=this.height&&e<this.threshold?this.beforeThreshold(e):e>=this.threshold?this.afterThreshold(e):e>0&&e<this.height?this.beforeHeight():0===e&&this.restore())},isBookmark:function(e){this.isFixed=e,this.color=e?It:Ct}},methods:{beforeHeight:function(){this.isBookmark?(this.text=this.$t("book.pulldownDeleteMark"),this.color=It,this.isFixed=!0):(this.text=this.$t("book.pulldownAddMark"),this.color=Ct,this.isFixed=!1)},beforeThreshold:function(e){this.$refs.ebookmark.style.top="".concat(-e,"px"),this.beforeHeight();var t=this.$refs.iconDown;"rotate(180deg)"===t.style.transform&&(t.style.transform="rotate(0deg)")},afterThreshold:function(e){this.$refs.ebookmark.style.top="".concat(-e,"px"),this.isBookmark?(this.text=this.$t("book.releaseDeleteMark"),this.color=Ct,this.isFixed=!1):(this.text=this.$t("book.releaseAddMark"),this.color=It,this.isFixed=!0);var t=this.$refs.iconDown;""!==t.style.transform&&"rotate(0deg)"!==t.style.transform||(t.style.transform="rotate(180deg)")},restore:function(){var e=this;setTimeout((function(){e.$refs.ebookmark.style.top="".concat(-e.height,"px"),e.$refs.iconDown.style.transform="rotate(0deg)"}),200),this.isFixed?(this.setIsBookmark(!0),this.addBookmark()):(this.setIsBookmark(!1),this.removeBookmark())},addBookmark:function(){var e=this;this.bookmark=Object(H["b"])(this.fileName),this.bookmark||(this.bookmark=[]);var t=this.currentBook.rendition.currentLocation(),n=t.start.cfi.replace(/!.*/,""),o=t.start.cfi.replace(/.*!/,"").replace(/\)$/,""),i=t.end.cfi.replace(/.*!/,"").replace(/\)$/,""),a="".concat(n,"!,").concat(o,",").concat(i,")");this.currentBook.getRange(a).then((function(n){var o=n.toString().replace(/\s\s/g,"");e.bookmark.push({cfi:t.start.cfi,currentPageIndex:e.currentPageIndex,text:o}),Object(H["l"])(e.fileName,e.bookmark)}))},removeBookmark:function(){var e=this;this.bookmark=Object(H["b"])(this.fileName),this.bookmark&&(this.bookmark=this.bookmark.filter((function(t){return t.currentPageIndex!==e.currentPageIndex})),Object(H["l"])(this.fileName,this.bookmark),this.setIsBookmark(!1))}}};n("afd3");Nt.render=_t,Nt.__scopeId="data-v-e051f1c6";var Bt=Nt,At=Object(o["O"])("data-v-1e212dba");Object(o["x"])("data-v-1e212dba");var Mt={class:"ebook-header"},Vt={class:"ebook-header-text"};Object(o["v"])();var $t=At((function(e,t,n,i,a,c){return Object(o["u"])(),Object(o["g"])("div",Mt,[Object(o["j"])("span",Vt,Object(o["G"])(e.getSectionName),1)])})),Dt={mixins:[S["a"]]};n("dbbd");Dt.render=$t,Dt.__scopeId="data-v-1e212dba";var Gt=Dt,Rt=Object(o["O"])("data-v-3b082e2c");Object(o["x"])("data-v-3b082e2c");var zt={class:"ebook-footer"},Yt={class:"ebook-footer-text"};Object(o["v"])();var Ht=Rt((function(e,t,n,i,a,c){return Object(o["u"])(),Object(o["g"])("div",zt,[Object(o["j"])("span",Yt,Object(o["G"])(e.paginate),1)])})),Wt={mixins:[S["a"]]};n("9715");Wt.render=Ht,Wt.__scopeId="data-v-3b082e2c";var Ut=Wt,Jt={mixins:[S["a"]],components:{EbookReader:h["default"],EbookTitle:T,EbookMenu:Ot,EbookBookmark:Bt,EbookHeader:Gt,EbookFooter:Ut},methods:{startLoopReadTime:function(){var e=this,t=Object(H["h"])(this.fileName);t||(t=0),this.task=setInterval((function(){t++,t%30===0&&Object(H["q"])(e.fileName,t)}),1e3)},move:function(e){this.$refs.ebook.style.top=e+"px"},restore:function(){var e=this;this.$refs.ebook.style.top=0,this.$refs.ebook.style.transition="all .2s linear",setTimeout((function(){e.$refs.ebook.style.transition=""}),200)}},mounted:function(){this.startLoopReadTime()},beforeUnmount:function(){this.task&&clearInterval(this.task)},watch:{offsetY:function(e){!this.menuVisible&&this.bookAvailable&&(e>0?this.move(e):0===e&&this.restore())}}};n("55ba");Jt.render=d,Jt.__scopeId="data-v-745bd947";var Kt=Jt,qt=[{path:"/",redirect:"/store/home"},{path:"/ebook",component:Kt,children:[{path:":fileName",component:function(){return Promise.resolve().then(n.bind(null,"5158"))}}]},{path:"/store",component:function(){return n.e("chunk-723f109e").then(n.bind(null,"bb50"))},redirect:"/store/shelf",children:[{path:"home",component:function(){return n.e("chunk-057991b0").then(n.bind(null,"1a37"))}},{path:"list",component:function(){return n.e("chunk-10b9a0fb").then(n.bind(null,"0eb2"))}},{path:"detail",component:function(){return n.e("chunk-1a13f944").then(n.bind(null,"5bab"))}},{path:"shelf",component:function(){return Promise.all([n.e("chunk-151ff8dc"),n.e("chunk-c6aea08e")]).then(n.bind(null,"5f7a"))}},{path:"category",component:function(){return Promise.all([n.e("chunk-151ff8dc"),n.e("chunk-d981eada")]).then(n.bind(null,"a49d"))}}]}],Xt=Object(u["a"])({history:Object(u["b"])(),routes:qt}),Zt=Xt,Qt=n("5502"),en={state:{fileName:"",menuVisible:!1,settingVisible:-1,defaultFontSize:16,defaultFontFamily:"Default",fontFamilyVisible:!1,defaultTheme:"Default",bookAvailable:!1,progress:0,section:0,isPaginating:!0,currentBook:null,navigation:null,cover:null,metadata:null,paginate:"",pagelist:null,offsetY:0,isBookmark:null,currentPageIndex:0},mutations:{SET_FILENAME:function(e,t){e.fileName=t},SET_MENU_VISIBLE:function(e,t){e.menuVisible=t},SET_SETTING_VISIBLE:function(e,t){e.settingVisible=t},SET_DEFAULT_FONT_SIZE:function(e,t){e.defaultFontSize=t},SET_DEFAULT_FONT_FAMILY:function(e,t){e.defaultFontFamily=t},SET_FONT_FAMILY_VISIBLE:function(e,t){e.fontFamilyVisible=t},SET_DEFAULT_THEME:function(e,t){e.defaultTheme=t},SET_BOOK_AVAILABLE:function(e,t){e.bookAvailable=t},SET_PROGRESS:function(e,t){e.progress=t},SET_SECTION:function(e,t){e.section=t},SET_IS_PAGINATING:function(e,t){e.isPaginating=t},SET_CURRENT_BOOK:function(e,t){e.currentBook=t},SET_NAVIGATION:function(e,t){e.navigation=t},SET_COVER:function(e,t){e.cover=t},SET_METADATA:function(e,t){e.metadata=t},SET_PAGINATE:function(e,t){e.paginate=t},SET_PAGELIST:function(e,t){e.pagelist=t},SET_OFFSETY:function(e,t){e.offsetY=t},SET_IS_BOOKMARK:function(e,t){e.isBookmark=t},set_currentPageIndex:function(e,t){e.currentPageIndex=t}}},tn=en,nn={state:{hotSearchOffsetY:0,flapCardVisible:!1,isEditMode:!1,shelfList:[],shelfSelected:[],shelfTitleVisible:!0,shelfFooterShowVisible:!1,shelfFooterPopupProps:{},shelfCategory:null,currentType:1,dialogProps:{showNewGroup:!1,groupName:""}},mutations:{SET_HOT_SEARCH_OFFSETY:function(e,t){e.hotSearchOffsetY=t},SET_FLAP_CARD_VISIBLE:function(e,t){e.flapCardVisible=t},SET_IS_EDIT_MODE:function(e,t){e.isEditMode=t},SET_SHELF_SELECTED:function(e,t){e.shelfSelected=t},SET_SHELF_TITLE_VISIBLE:function(e,t){e.shelfTitleVisible=t},SET_SHELF_LIST:function(e,t){e.shelfList=t},setShelfFooterShowVisible:function(e,t){e.shelfFooterShowVisible=t},setShelfFooterPopupProps:function(e,t){e.shelfFooterPopupProps=t},set_shelfCategory:function(e,t){e.shelfCategory=t},set_currentType:function(e,t){e.currentType=t},set_dialogProps:function(e,t){e.dialogProps=t}}},on=nn,an={fileName:function(e){return e.book.fileName},menuVisible:function(e){return e.book.menuVisible},settingVisible:function(e){return e.book.settingVisible},defaultFontSize:function(e){return e.book.defaultFontSize},defaultFontFamily:function(e){return e.book.defaultFontFamily},fontFamilyVisible:function(e){return e.book.fontFamilyVisible},defaultTheme:function(e){return e.book.defaultTheme},bookAvailable:function(e){return e.book.bookAvailable},progress:function(e){return e.book.progress},section:function(e){return e.book.section},isPaginating:function(e){return e.book.isPaginating},currentBook:function(e){return e.book.currentBook},navigation:function(e){return e.book.navigation},cover:function(e){return e.book.cover},metadata:function(e){return e.book.metadata},paginate:function(e){return e.book.paginate},pagelist:function(e){return e.book.pagelist},offsetY:function(e){return e.book.offsetY},isBookmark:function(e){return e.book.isBookmark},currentPageIndex:function(e){return e.book.currentPageIndex},hotSearchOffsetY:function(e){return e.store.hotSearchOffsetY},flapCardVisible:function(e){return e.store.flapCardVisible},isEditMode:function(e){return e.store.isEditMode},shelfList:function(e){return e.store.shelfList},shelfSelected:function(e){return e.store.shelfSelected},shelfTitleVisible:function(e){return e.store.shelfTitleVisible},shelfFooterShowVisible:function(e){return e.store.shelfFooterShowVisible},shelfFooterPopupProps:function(e){return e.store.shelfFooterPopupProps},shelfCategory:function(e){return e.store.shelfCategory},currentType:function(e){return e.store.currentType},dialogProps:function(e){return e.store.dialogProps}},cn=an,rn={setFontFamilyVisible:function(e,t){var n=e.commit;return n("SET_FONT_FAMILY_VISIBLE",t)},setDefaultFontFamily:function(e,t){var n=e.commit;return n("SET_DEFAULT_FONT_FAMILY",t)},setDefaultFontSize:function(e,t){var n=e.commit;return n("SET_DEFAULT_FONT_SIZE",t)},setSettingVisible:function(e,t){var n=e.commit;return n("SET_SETTING_VISIBLE",t)},setMenuVisible:function(e,t){var n=e.commit;return n("SET_MENU_VISIBLE",t)},setFileName:function(e,t){var n=e.commit;return n("SET_FILENAME",t)},setDefaultTheme:function(e,t){var n=e.commit;return n("SET_DEFAULT_THEME",t)},setBookAvailable:function(e,t){var n=e.commit;return n("SET_BOOK_AVAILABLE",t)},setProgress:function(e,t){var n=e.commit;return n("SET_PROGRESS",t)},setSection:function(e,t){var n=e.commit;return n("SET_SECTION",t)},setIsPaginating:function(e,t){var n=e.commit;return n("SET_IS_PAGINATING",t)},setCurrentBook:function(e,t){var n=e.commit;return n("SET_CURRENT_BOOK",t)},setNavigation:function(e,t){var n=e.commit;return n("SET_NAVIGATION",t)},setCover:function(e,t){var n=e.commit;return n("SET_COVER",t)},setMetadata:function(e,t){var n=e.commit;return n("SET_METADATA",t)},setPaginate:function(e,t){var n=e.commit;return n("SET_PAGINATE",t)},setPagelist:function(e,t){var n=e.commit;return n("SET_PAGELIST",t)},setIsBookmark:function(e,t){var n=e.commit;return n("SET_IS_BOOKMARK",t)},setCurrentPageIndex:function(e,t){var n=e.commit;return n("set_currentPageIndex",t)},setOffsetY:function(e,t){var n=e.commit;return n("SET_OFFSETY",t)},setHotSearchOffsetY:function(e,t){var n=e.commit;return n("SET_HOT_SEARCH_OFFSETY",t)},setFlapCardVisible:function(e,t){var n=e.commit;return n("SET_FLAP_CARD_VISIBLE",t)},setIsEditMode:function(e,t){var n=e.commit;return n("SET_IS_EDIT_MODE",t)},setShelfSelected:function(e,t){var n=e.commit;return n("SET_SHELF_SELECTED",t)},setShelfTitleVisible:function(e,t){var n=e.commit;return n("SET_SHELF_TITLE_VISIBLE",t)},setShelfList:function(e,t){var n=e.commit;return n("SET_SHELF_LIST",t)},setShelfFooterShowVisible:function(e,t){var n=e.commit;return n("setShelfFooterShowVisible",t)},setShelfFooterPopupProps:function(e,t){var n=e.commit;return n("setShelfFooterPopupProps",t)},setShelfCategory:function(e,t){var n=e.commit;return n("set_shelfCategory",t)},setCurrentType:function(e,t){var n=e.commit;return n("set_currentType",t)},setDialogProps:function(e,t){var n=e.commit;return n("set_dialogProps",t)}},sn=rn,un=Object(Qt["a"])({modules:{book:tn,store:on},getters:cn,actions:sn}),ln={home:{title:"Book Store",hint:"Computer Science And Software Engineering",guessYouLike:"Guess You Like",change:"Change",clear:"Clear",hotSearch:"Hot Search",historySearch:"History Search",sameAuthor:"Same author with $1",sameReader:"Same reader with $1",readPercent:"$1 is reading $2",recommend:"Recommend",seeAll:"See all",readers:"$1 is reading",featured:"Featured",category:"Category",books:"books",readNow:"Read Now",allBook:"$1 books"},category:{computerScience:"Computer Science",socialSciences:"Social Sciences",economics:"Economics",education:"Eductation",engineering:"Engineering",environment:"Environment",geography:"Geography",history:"History",laws:"Laws",lifeSciences:"LifeSciences",literature:"Literature",biomedicine:"Biomedicine",businessandManagement:"Business and Management",earthSciences:"Earth Sciences",materialsScience:"Materials Science",mathematics:"Mathematics",medicineAndPublicHealth:"Medicine And Public Health",philosophy:"Philosophy",physics:"Physics",politicalScienceAndInternationalRelations:"Political Science And International Relations",psychology:"Psychology",statistics:"Statistics"},shelf:{title:"Book Shelf",edit:"Edit",cancel:"Cancel",search:"Search",private:"Private",noPrivate:"Close Private",download:"Download",move:"Move...",remove:"Remove",setPrivateTitle:"When opened, the reading history of selected books will not be made public",open:"Open",closePrivateTitle:"Whether to close the private reading of selected books?",close:"Close",setPrivateSuccess:"Private reading has been open and reading history will no longer be published",closePrivateSuccess:"Private reading has been closed",setDownloadTitle:"When opened, selected books will automatically download",setDownloadSuccess:"Opened, will automatically download purchased books",setDownloadError:"Offline download exception, please try again",removeDownloadTitle:"Once confirmed, the offline books of selected will be remove",removeDownloadSuccess:"Offline books of selected has been remove",delete:"Remove",clearCache:"Clear Cache",clearCacheSuccess:"Clear cache successfully, cache is empty",removeBookTitle:"Whether to remove $1 out of the bookshelf?",removeBook:"Remove",selectedBooks:"selected books",default:"Default",progress:"By Progress",purchase:"By Purchase",bought:"Bought",notPurchased:"Not Purchased",selectBook:"Select Book",haveSelectedBook:"$1 book has been selected",haveSelectedBooks:"$1 books have been selected",moveBook:"Move Book",newGroup:"New Group",groupOut:"Move Out of Group",editGroup:"Edit Group",editGroupName:"Edit Group Name",deleteGroup:"Delete Group",deleteGroupTitle:"After deleting a group, the books in the group will be automatically moved out of the group",groupNone:"There are no books in the current group",groupName:"Group Name",confirm:"Confirm",moveBookInSuccess:"Move book(s) into $1 successfully",moveBookOutSuccess:"Move book(s) out of the group successfully",statistic:"$1 public reading • $2 private reading",startDownload:"Start download...",progressDownload:"Downloading：$1",downloadFirst:"Please download book first",welcome:'Welcome to visit iMooc<br>Learning "Practical WeChat Reading - Enterprise Web Book Store of Amami Native APP"<br>--------  Author: Sam  --------',find:"Go to book store",changeLanguage:"Change Language",studyNow:"Learn on imooc.com"},detail:{copyright:"Copyright",navigation:"Table of Contents",publisher:"Publisher",category:"Category",ISBN:"ISBN",trial:"Trial Reading",lang:"Language",loading:"Loading...",read:"Read",listen:"Listen",addOrRemoveShelf:"Add to Book Shelf",isAddedToShelf:"Added to BookShelf"},speak:{voice:"Voice Reading",read:"Read Originial",settings:"Settings",timing:"Timing",current:"Current Section",requestFailed:"Request failed!",apply:"The core technology of semantic analysis is provided by iFLY TEK"},book:{pulldownAddMark:"Pull down to add bookmark",releaseAddMark:"Release to add bookmark",pulldownDeleteMark:"Pull down to delete bookmark",releaseDeleteMark:"Release to delete bookmark",selectFont:"Select Font",haveRead:"Already read $1 minutes",themeDefault:"Default",themeGold:"Grace",themeEye:"Eye",themeNight:"Night",loading:"Loading...",navigation:"Contents",bookmark:"Bookmark",searchHint:"Search from the entire book",haveRead2:"already read",minutes:"minutes",cancel:"Cancel"}},fn=ln,dn={home:{title:"书城",hint:"计算机科学和软件工程",guessYouLike:"猜你喜欢",change:"换一批",clear:"清空",hotSearch:"热门搜索",historySearch:"搜索历史",sameAuthor:"与$1同作者",sameReader:"对$1感兴趣的人也在读",readPercent:"阅读$2的人，$1都在读",recommend:"热门推荐",seeAll:"查看全部",readers:"$1人同时在读",featured:"精选",category:"分类",books:"本书",readNow:"立即阅读",allBook:"共 $1 本图书"},category:{computerScience:"计算机科学",socialSciences:"社会科学",economics:"经济学",education:"教育学",engineering:"工程学",environment:"环境学",geography:"地理学",history:"历史学",laws:"法学",lifeSciences:"生命科学",literature:"文学",biomedicine:"生物医学",businessandManagement:"工商管理",earthSciences:"地球科学",materialsScience:"材料科学",mathematics:"数学",medicineAndPublicHealth:"公共卫生",philosophy:"哲学",physics:"物理",politicalScienceAndInternationalRelations:"国际关系",psychology:"心理学",statistics:"统计学"},shelf:{title:"书架",edit:"编辑",cancel:"取消",search:"搜索",private:"私密阅读",noPrivate:"关闭私密阅读",download:"开启离线",move:"移动到...",remove:"移出书架",setPrivateTitle:"开启后，所选书籍的阅读记录将不会对外公开",open:"开启",closePrivateTitle:"是否关闭所选书籍的私密阅读？",close:"关闭",setPrivateSuccess:"已开启私密阅读<br>阅读记录将不再公开",closePrivateSuccess:"已关闭私密阅读",setDownloadTitle:"开启后，将自动缓存所选书籍内容",setDownloadSuccess:"已开启，将自动离线已购内容",setDownloadError:"离线下载异常，请重新尝试",removeDownloadTitle:"确认后，将删除所选书籍的离线内容",removeDownloadSuccess:"已选书籍的离线内容已删除",delete:"删除",clearCache:"清除缓存",clearCacheSuccess:"缓存已清空",removeBookTitle:"是否将$1移出书架？",removeBook:"移出",selectedBooks:"所选书籍",default:"默认",progress:"按进度",purchase:"按购买",bought:"已购买",notPurchased:"未购买",selectBook:"选择书籍",haveSelectedBook:"已选择$1本",haveSelectedBooks:"已选择$1本",moveBook:"移动书籍",newGroup:"新建分组",groupOut:"移出分组",editGroup:"修改分组",editGroupName:"修改分组名",deleteGroup:"删除分组",deleteGroupTitle:"删除分组后，分组内的书籍将会自动移出分组",groupNone:"当前分组暂无书籍",groupName:"分组名",confirm:"确定",moveBookInSuccess:"成功移入$1",moveBookOutSuccess:"成功移出分组",statistic:"$1本公开阅读 • $2本私密阅读",startDownload:"开始下载...",progressDownload:"正在下载：$1",downloadFirst:"请先缓存图书",welcome:"欢迎访问慕课网<br>学习《实战微信读书——媲美原生APP的企业级Web书城》<br>--------  作者：Sam  --------",find:"去找书",changeLanguage:"切换语言",studyNow:"去慕课网学习"},detail:{copyright:"版权",navigation:"目录",publisher:"出版社",category:"分类",ISBN:"ISBN",trial:"试读",lang:"语言",loading:"加载中...",read:"阅读",listen:"听书",addOrRemoveShelf:"加入书架",isAddedToShelf:"已加入书架"},speak:{voice:"语音朗读",read:"查看原文",settings:"设置",timing:"定时",current:"当前章节",requestFailed:"请求失败!",apply:"语义解析核心技术由科大讯飞提供"},book:{pulldownAddMark:"下拉添加书签",releaseAddMark:"松手添加书签",pulldownDeleteMark:"下拉删除书签",releaseDeleteMark:"松手删除书签",selectFont:"选择字体",haveRead:"已读$1分钟",themeDefault:"默认",themeGold:"雅致",themeEye:"护眼",themeNight:"夜间",loading:"加载中...",navigation:"目录",bookmark:"书签",searchHint:"搜索全书内容",haveRead2:"已读",minutes:"分钟",cancel:"取消"}},hn=dn,bn=n("47e2"),mn={en:fn,cn:hn},pn=Object(H["f"])();pn||(pn="cn",Object(H["o"])(pn));var gn=Object(bn["a"])({locale:pn,messages:mn}),vn=gn,jn=(n("3d0e"),n("c860"),n("ad2c"));n("6625");Object(o["f"])(s).use(un).use(Zt).use(vn).use(jn["a"],{loading:n("e1a5"),error:n("e1a5")}).mount("#app")},"5ca0":function(e,t,n){e.exports=n.p+"img/gift-right.b83f580a.png"},"5de6":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return r})),n.d(t,"g",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"f",(function(){return f})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return h}));var o=n("2909"),i=(n("99af"),n("d81d"),n("e8ec")),a=n("fa7d"),c=[{fontSize:12},{fontSize:14},{fontSize:16},{fontSize:18},{fontSize:20},{fontSize:22},{fontSize:24}],r=[{font:"Default"},{font:"Cabin"},{font:"Days One"},{font:"Montserrat"},{font:"Tangerine"}];function s(e){return[{alias:e.$t("book.themeDefault"),name:"Default",style:{body:{color:"#4c5059",background:"#cecece","padding-top":"".concat(Object(a["b"])(48),"px !important"),"padding-bottom":"".concat(Object(a["b"])(48),"px !important")}}},{alias:e.$t("book.themeGold"),name:"Gold",style:{body:{color:"#5c5b56",background:"#c6c2b6","padding-top":"".concat(Object(a["b"])(48),"px !important"),"padding-bottom":"".concat(Object(a["b"])(48),"px !important")}}},{alias:e.$t("book.themeEye"),name:"Eye",style:{body:{color:"#404c42",background:"#a9c1a9","padding-top":"".concat(Object(a["b"])(48),"px !important"),"padding-bottom":"".concat(Object(a["b"])(48),"px !important")}}},{alias:e.$t("book.themeNight"),name:"Night",style:{body:{color:"#cecece",background:"#000000","padding-top":"".concat(Object(a["b"])(48),"px !important"),"padding-bottom":"".concat(Object(a["b"])(48),"px !important")}}}]}function u(e){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",e),document.getElementsByTagName("head")[0].appendChild(t)}function l(e){for(var t=document.getElementsByTagName("link"),n=t.length-1;n>=0;n--){var o=t[n];if(o&&o.getAttribute("href")&&o.getAttribute("href")===e){o.parentNode.removeChild(o);break}}}function f(){l("".concat("http://localhost:8090","/theme/theme_default.css")),l("".concat("http://localhost:8090","/theme/theme_gold.css")),l("".concat("http://localhost:8090","/theme/theme_eye.css")),l("".concat("http://localhost:8090","/theme/theme_night.css"))}function d(e){var t=Object(i["h"])(e);return t?Math.ceil(t/60):0}function h(e){var t;return(t=[]).concat.apply(t,Object(o["a"])(e.map((function(e){var t;return(t=[]).concat.apply(t,[e].concat(Object(o["a"])(h(e.subitems))))}))))}},"608b":function(e,t,n){},6136:function(e,t,n){e.exports=n.p+"img/compass-left.449019b3.png"},6625:function(e,t){Array.prototype.pushWithoutDuplicate=function(){for(var e=0;e<arguments.length;e++){var t=arguments[e];-1===this.indexOf(t)&&this.push(t)}}},6701:function(e,t,n){"use strict";var o=n("7a23"),i=Object(o["O"])("data-v-5e29a8b9"),a=i((function(e,t,n,i,a,c){return Object(o["u"])(),Object(o["g"])("div",{class:["scroll-wrapper",{"no-scroll":n.ifNoScroll}],onScrollPassive:t[1]||(t[1]=function(){return c.handleScroll&&c.handleScroll.apply(c,arguments)}),ref:"scrollWrapper"},[Object(o["B"])(e.$slots,"default",{},void 0,!0)],34)})),c=(n("a9e3"),n("fa7d")),r={props:{top:{type:Number,default:0},bottom:{type:Number,default:0},ifNoScroll:{type:Boolean,default:!1},initPosition:{type:Object,default:function(){return{x:0,y:0}}}},methods:{handleScroll:function(e){var t=e.target.scrollTop||window.pageYOffset||document.body.scrollTop;this.$emit("onScroll",t)},scrollTo:function(e,t){this.$refs.scrollWrapper.scrollTo(e,t)},refresh:function(){this.$refs.scrollWrapper&&(this.$refs.scrollWrapper.style.height=window.innerHeight-Object(c["b"])(this.top)-Object(c["b"])(this.bottom)+"px",this.$refs.scrollWrapper.addEventListener("scroll",this.handleScroll))}},mounted:function(){var e=this;this.refresh(),this.$nextTick((function(){setTimeout((function(){e.scrollTo(Object(c["b"])(e.initPosition.x),Object(c["b"])(e.initPosition.y))}),1)}))}};n("f756");r.render=a,r.__scopeId="data-v-5e29a8b9";t["a"]=r},"68d9":function(e,t,n){"use strict";n("f353")},"70ff":function(e,t,n){},"73f5":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return l}));n("99af");var o=n("bc3a"),i=n.n(o),a=n("101f");function c(e,t,n,o){return o||(o=n,n=null),i.a.create({baseURL:"http://localhost:8090/epub",method:"get",responseType:"blob",timeout:18e4,onDownloadProgress:function(e){o&&o(e)}}).get("".concat(e.categoryText,"/").concat(e.fileName,".epub")).then((function(o){var i=new Blob([o.data]);Object(a["d"])(e.fileName,i,(function(){t&&t(e)}),(function(e){n&&n(e)}))})).catch((function(e){n&&n(e)}))}function r(){return i()({method:"get",url:"".concat("http://localhost:3000","/book/shelf")})}function s(){return i()({method:"get",url:"".concat("http://localhost:3000","/book/home")})}function u(e){return i()({method:"get",url:"".concat("http://localhost:3000","/book/detail"),params:{fileName:e.fileName}})}function l(){return i()({method:"get",url:"".concat("http://localhost:3000","/book/list")})}},"76b1":function(e,t,n){e.exports=n.p+"img/crown-left.fe9cf002.png"},"793b":function(e,t,n){},"7bf4":function(e,t,n){"use strict";n("5573")},"808b":function(e,t,n){"use strict";n("0e4a")},8816:function(e,t,n){e.exports=n.p+"img/heart-left.608cf278.png"},8880:function(e,t,n){},8937:function(e,t,n){},9715:function(e,t,n){"use strict";n("4ad3")},"9a38":function(e,t,n){"use strict";n("c6e4")},a15f:function(e,t,n){"use strict";n("793b")},a6dd:function(e,t,n){"use strict";n("36d6")},abb2:function(e,t,n){e.exports=n.p+"img/crown-right.b0edb78b.png"},ac0d:function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return h}));var o=n("2909"),i=n("5530"),a=(n("4de4"),n("d81d"),n("99af"),n("ac1f"),n("5319"),n("5502")),c=n("5de6"),r=n("da6f"),s=n("e8ec"),u=n("73f5"),l=n("2f32"),f={computed:Object(i["a"])({},Object(a["c"])(["isEditMode","shelfList","shelfSelected","shelfTitleVisible","offsetY","shelfFooterShowVisible","shelfFooterPopupProps","shelfCategory","currentType","dialogProps"])),methods:Object(i["a"])(Object(i["a"])({},Object(a["b"])(["setIsEditMode","setShelfSelected","setShelfTitleVisible","setShelfList","setOffsetY","setShelfFooterShowVisible","setShelfFooterPopupProps","setShelfCategory","setCurrentType","setDialogProps"])),{},{showBookDetail:function(e){Object(r["h"])(this,e)},getShelfList:function(){var e=this,t=Object(s["c"])();if(t)return this.setShelfList(t);Object(u["e"])().then((function(n){if(200===n.status&&n.data&&n.data.bookList)return t=Object(r["b"])(n.data.bookList),Object(s["k"])(t),e.setShelfList(t)}))},getCategoryList:function(e){var t=this;this.getShelfList().then((function(){var n=t.shelfList.filter((function(t){return 2===t.type&&t.title===e}))[0];t.setShelfCategory(n)}))},moveOutOfGroup:function(e){var t=this;this.setShelfList(this.shelfList.map((function(e){return 2===e.type&&e.itemList&&(e.itemList=e.itemList.filter((function(e){return!e.selected}))),e}))).then((function(){var n,i=Object(r["e"])(Object(r["b"])((n=[]).concat.apply(n,[Object(r["j"])(t.shelfList)].concat(Object(o["a"])(t.shelfSelected)))));t.setShelfList(i).then((function(){var n=new l["a"](t.$t("shelf.moveBookOutSuccess"));n.setTimeUnmount(1e3),e&&e()}))}))}})},d={computed:Object(i["a"])({},Object(a["c"])(["offsetY","hotSearchOffsetY","flapCardVisible"])),methods:Object(i["a"])(Object(i["a"])({},Object(a["b"])(["setOffsetY","setHotSearchOffsetY","setFlapCardVisible"])),{},{showBookDetail:function(e){Object(r["h"])(this,e)}})},h={computed:Object(i["a"])(Object(i["a"])({},Object(a["c"])(["fileName","menuVisible","settingVisible","defaultFontSize","defaultFontFamily","fontFamilyVisible","defaultTheme","bookAvailable","progress","section","isPaginating","currentBook","navigation","cover","metadata","paginate","pagelist","offsetY","isBookmark","currentPageIndex"])),{},{themeList:function(){return Object(c["g"])(this)},getSectionName:function(){return this.navigation&&this.navigation.length&&this.section?this.navigation[this.section].label:""}}),methods:Object(i["a"])(Object(i["a"])({},Object(a["b"])(["setFileName","setMenuVisible","setSettingVisible","setDefaultFontSize","setDefaultFontFamily","setFontFamilyVisible","setDefaultTheme","setBookAvailable","setProgress","setSection","setIsPaginating","setCurrentBook","setNavigation","setCover","setMetadata","setPaginate","setPagelist","setOffsetY","setIsBookmark","setCurrentPageIndex"])),{},{initGlobalStyle:function(){switch(Object(c["f"])(),this.defaultTheme){case"Default":Object(c["c"])("".concat("http://localhost:8090","/theme/theme_default.css"));break;case"Gold":Object(c["c"])("".concat("http://localhost:8090","/theme/theme_gold.css"));break;case"Eye":Object(c["c"])("".concat("http://localhost:8090","/theme/theme_eye.css"));break;case"Night":Object(c["c"])("".concat("http://localhost:8090","/theme/theme_night.css"));break;default:Object(c["c"])("".concat("http://localhost:8090","/theme/theme_default.css"));break}},refreshLocation:function(){var e=this.currentBook.rendition.currentLocation();if(e&&e.start){var t=e.start.cfi,n=this.currentBook.locations.percentageFromCfi(e.start.cfi);this.setSection(e.start.index),this.setProgress(Math.floor(100*n)),Object(s["p"])(this.fileName,t);var o=Object(s["b"])(this.fileName);if(o&&o.some((function(e){return e.cfi===t}))?this.setIsBookmark(!0):this.setIsBookmark(!1),this.pagelist){var i=this.pagelist.length,a=e.start.location;a&&a>0?this.setPaginate(a+"/"+i):this.setPaginate("")}else this.setPaginate("")}},display:function(e,t,n){var o=this;if(e)return this.currentBook.rendition.display(e).then((function(){o.myRefreshLocation(e,t),n&&n()}))},myRefreshLocation:function(e,t){if(e&&this.pagelist){var n=0;if(t)n=t,e=this.pagelist[t];else for(;n<this.pagelist.length;n++)if(this.pagelist[n]===e)break;this.setCurrentPageIndex(n),n++;for(var o=0;o<this.navigation.length-1;o++)if(n>=this.navigation[o].page&&n<this.navigation[o+1].page)break;this.setSection(o),this.setProgress(Math.floor(n/this.pagelist.length*100)),Object(s["p"])(this.fileName,e);var i=Object(s["b"])(this.fileName);i&&i.some((function(e){return e.currentPageIndex===n-1}))?this.setIsBookmark(!0):this.setIsBookmark(!1),this.setPaginate(n+"/"+this.pagelist.length)}},hideTitleAndMenu:function(){this.setMenuVisible(!1),this.setSettingVisible(-1),this.setFontFamilyVisible(!1)},getReadTimeText:function(){return this.$t("book.haveRead").replace("$1",Object(c["e"])(this.fileName))}})}},afd3:function(e,t,n){"use strict";n("dbbb")},b477:function(e,t,n){e.exports=n.p+"img/star-left.746e22aa.png"},c6db:function(e,t,n){e.exports=n.p+"img/gift-left.322c044a.png"},c6e4:function(e,t,n){},c713:function(e,t,n){"use strict";n("3d23")},c819:function(e,t,n){"use strict";(function(e){n("b0c0"),n("159b"),n("4de4"),n("ac1f"),n("466d"),n("1276"),n("a15b"),n("99af");var o=n("ac0d"),i=n("a211"),a=n("e8ec"),c=n("5de6"),r=n("101f");e.epub=i["a"],t["a"]={mixins:[o["a"]],methods:{onMouseEnter:function(e){this.mouseState=1,this.mouseStartTime=e.timeStamp,e.preventDefault(),e.stopPropagation()},onMouseMove:function(e){if(1===this.mouseState)this.mouseState=2;else if(2===this.mouseState){var t=0;this.firstOffsetY?(t=e.clientY-this.firstOffsetY,this.setOffsetY(t)):this.firstOffsetY=e.clientY}e.preventDefault(),e.stopPropagation()},onMouseEnd:function(e){2===this.mouseState?(this.setOffsetY(0),this.firstOffsetY=0,this.mouseState=3):this.mouseState=4;var t=e.timeStamp-this.mouseStartTime;t<100&&(this.mouseState=4),e.preventDefault(),e.stopPropagation()},move:function(e){var t=0;this.firstOffsetY?(t=e.changedTouches[0].clientY-this.firstOffsetY,this.setOffsetY(t)):this.firstOffsetY=e.changedTouches[0].clientY,e.preventDefault(),e.stopPropagation()},moveEnd:function(e){this.setOffsetY(0),this.firstOffsetY=0},onMaskClick:function(e){if(!this.mouseState||2!==this.mouseState&&3!==this.mouseState){var t=e.offsetX,n=window.innerWidth;t>0&&t<.3*n?this.prevPage():t>0&&t>.7*n?this.nextPage():this.toggleTitleAndMenu()}},prevPage:function(){var e=this;this.rendition&&this.pagelist&&(this.rendition.prev().then((function(){e.myRefreshLocation(e.pagelist[e.currentPageIndex-1])})),this.hideTitleAndMenu())},nextPage:function(){var e=this;this.rendition&&this.pagelist&&(this.rendition.next().then((function(){e.myRefreshLocation(e.pagelist[e.currentPageIndex+1])})),this.hideTitleAndMenu())},toggleTitleAndMenu:function(){this.menuVisible&&(this.setSettingVisible(-1),this.setFontFamilyVisible(!1)),this.setMenuVisible(!this.menuVisible)},initFontSize:function(){var e=Object(a["e"])(this.fileName);e?(this.setDefaultFontSize(e),this.rendition.themes.fontSize(e+"px")):Object(a["n"])(this.fileName,this.defaultFontSize)},initFontFamily:function(){var e=Object(a["d"])(this.fileName);e?(this.setDefaultFontFamily(e),this.rendition.themes.font(e)):Object(a["m"])(this.fileName,this.defaultFontFamily)},initTheme:function(){var e=this,t=Object(a["i"])(this.fileName);t||(t=this.themeList[0].name,Object(a["r"])(this.fileName,t)),this.setDefaultTheme(t),this.themeList.forEach((function(t){e.rendition.themes.register(t.name,t.style)})),this.currentBook.rendition.themes.select(t)},cbFunction:function(){this.initFontSize(),this.initFontFamily(),this.initTheme(),this.initGlobalStyle()},initRendition:function(){var e=this;this.rendition=this.book.renderTo("read",{width:window.innerWidth,height:window.innerHeight,method:"default"});var t=Object(a["g"])(this.fileName);null===t?this.currentBook.rendition.display().then((function(){e.setCurrentPageIndex(0),e.setSection(0),e.setProgress(0),e.setPaginate(0),e.cbFunction()})):this.display(t,null,this.cbFunction()),this.rendition.hooks.content.register((function(e){e.addStylesheet("".concat("http://localhost:8090","/fonts/daysOne.css")),e.addStylesheet("".concat("http://localhost:8090","/fonts/cabin.css")),e.addStylesheet("".concat("http://localhost:8090","/fonts/montserrat.css")),e.addStylesheet("".concat("http://localhost:8090","/fonts/tangerine.css"))}))},initGesture:function(){var e=this;this.rendition.on("touchstart",(function(t){e.touchStatX=t.changedTouches[0].clientX,e.touchStartTime=t.timeStamp})),this.rendition.on("touchend",(function(t){var n=t.changedTouches[0].clientX-e.touchStatX,o=t.timeStamp-e.touchStartTime;o<500&&n>40?e.prevPage():o<500&&n<-40?e.nextPage():e.toggleTitleAndMenu(),t.stopPropagation()}))},parseBook:function(){var e=this;this.book.loaded.cover.then((function(t){e.book.archive.createUrl(t).then((function(t){e.setCover(t)}))})),this.book.loaded.metadata.then((function(t){e.setMetadata(t)})),this.book.loaded.navigation.then((function(t){var n=Object(c["d"])(t.toc);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.parent?o(n.filter((function(t){return t.id===e.parent}))[0],++t):t}n.forEach((function(e){e.level=o(e)})),e.setNavigation(n)}))},initEpub:function(e){var t=this;this.book=new i["a"](e),this.setCurrentBook(this.book),this.initRendition(),this.initGesture(),this.parseBook(),this.book.ready.then((function(){return t.book.locations.generate(window.innerWidth/375*750*(Object(a["e"])(t.fileName)/16))})).then((function(e){t.setPagelist(e);for(var n=1,o=0;o<t.navigation.length;o++){var i=t.navigation[o];if(i.page=n,n<t.pagelist.length)for(var c=t.pagelist[n++].match(/\[(.*)\]!/)[1];n<t.pagelist.length;n++){var r=t.pagelist[n].match(/\[(.*)\]!/)[1];if(r!==c)break}}t.setBookAvailable(!0);var s=Object(a["g"])(t.fileName);s?t.myRefreshLocation(s):t.display(t.pagelist[0])}))}},mounted:function(){var e=this,t=this.$route.params.fileName.split("|"),n=t[1];Object(r["b"])(n,(function(n,o){!n&&o?e.setFileName(t.join("/")).then((function(){e.initEpub(o)})):e.setFileName(t.join("/")).then((function(){var t="".concat("http://localhost:8090/epub","/").concat(e.fileName,".epub");e.initEpub(t)}))}))}}}).call(this,n("c8ba"))},c860:function(e,t,n){},cc53:function(e,t,n){"use strict";n("8880")},d723:function(e,t,n){"use strict";n("4685")},da6f:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"k",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"h",(function(){return r})),n.d(t,"i",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"j",(function(){return l})),n.d(t,"f",(function(){return f})),n.d(t,"g",(function(){return d})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return b}));n("4de4"),n("d81d");var o=n("e8ec");function i(e){var t=Object(o["c"])();t=l(t),e.type=1,t.push(e),t=c(t),t=u(t),Object(o["k"])(t)}function a(e){return Object(o["c"])().filter((function(t){return t.itemList&&t.itemList.length&&(t.itemList=t.itemList.filter((function(t){return t.fileName!==e.fileName}))),t.fileName!==e.fileName}))}function c(e){return e.map((function(e,t){return 3!==e.type&&(e.id=t+1,e.itemList&&(e.itemList=c(e.itemList))),e}))}function r(e,t){e.$router.push({path:"/store/detail",query:{fileName:t.fileName,category:t.categoryText}})}function s(e){e.$router.push({path:"/store/home"})}function u(e){return e.push({id:-1,type:3}),e}function l(e){return e.filter((function(e){return 3!==e.type}))}var f=[{r:255,g:102,_g:102,b:159,imgLeft:"url("+n("c6db")+")",imgRight:"url("+n("5ca0")+")",backgroundSize:"50% 50%",zIndex:100,rotateDegree:0},{r:74,g:171,_g:171,b:255,imgLeft:"url("+n("6136")+")",imgRight:"url("+n("ff3b")+")",backgroundSize:"50% 50%",zIndex:99,rotateDegree:0},{r:255,g:198,_g:198,b:102,imgLeft:"url("+n("b477")+")",imgRight:"url("+n("2676")+")",backgroundSize:"50% 50%",zIndex:98,rotateDegree:0},{r:255,g:102,_g:102,b:159,imgLeft:"url("+n("8816")+")",imgRight:"url("+n("4609")+")",backgroundSize:"50% 50%",zIndex:97,rotateDegree:0},{r:59,g:201,_g:201,b:22,imgLeft:"url("+n("76b1")+")",imgRight:"url("+n("abb2")+")",backgroundSize:"50% 50%",zIndex:96,rotateDegree:0}];function d(e){switch(e){case 1:return"ComputerScience";case 2:return"SocialSciences";case 3:return"Economics";case 4:return"Education";case 5:return"Engineering";case 6:return"Environment";case 7:return"Geography";case 8:return"History";case 9:return"Laws";case 10:return"LifeSciences";case 11:return"Literature";case 12:return"Biomedicine";case 13:return"BusinessandManagement";case 14:return"EarthSciences";case 15:return"MaterialsScience";case 16:return"Mathematics";case 17:return"MedicineAndPublicHealth";case 18:return"Philosophy";case 19:return"Physics";case 20:return"PoliticalScienceAndInternationalRelations";case 21:return"Psychology";case 22:return"Statistics"}}function h(e,t){switch(e){case 1:return t.$t("category.computerScience");case 2:return t.$t("category.socialSciences");case 3:return t.$t("category.economics");case 4:return t.$t("category.education");case 5:return t.$t("category.engineering");case 6:return t.$t("category.environment");case 7:return t.$t("category.geography");case 8:return t.$t("category.history");case 9:return t.$t("category.laws");case 10:return t.$t("category.lifeSciences");case 11:return t.$t("category.literature");case 12:return t.$t("category.biomedicine");case 13:return t.$t("category.businessandManagement");case 14:return t.$t("category.earthSciences");case 15:return t.$t("category.materialsScience");case 16:return t.$t("category.mathematics");case 17:return t.$t("category.medicineAndPublicHealth");case 18:return t.$t("category.philosophy");case 19:return t.$t("category.physics");case 20:return t.$t("category.politicalScienceAndInternationalRelations");case 21:return t.$t("category.psychology");case 22:return t.$t("category.statistics")}}var b={ComputerScience:1,SocialSciences:2,Economics:3,Education:4,Engineering:5,Environment:6,Geography:7,History:8,Laws:9,LifeSciences:10,Literature:11,Biomedicine:12,BusinessandManagement:13,EarthSciences:14,MaterialsScience:15,Mathematics:16,MedicineAndPublicHealth:17,Philosophy:18,Physics:19,PoliticalScienceAndInternationalRelations:20,Psychology:21,Statistics:22}},dbbb:function(e,t,n){},dbbd:function(e,t,n){"use strict";n("8937")},dbcd:function(e,t,n){},e1a5:function(e,t,n){e.exports=n.p+"img/loading2.ae9e5924.jpeg"},e272:function(e,t,n){"use strict";n("4db6")},e8ec:function(e,t,n){"use strict";n.d(t,"s",(function(){return c})),n.d(t,"j",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"k",(function(){return l})),n.d(t,"c",(function(){return f})),n.d(t,"f",(function(){return b})),n.d(t,"o",(function(){return m})),n.d(t,"d",(function(){return p})),n.d(t,"m",(function(){return g})),n.d(t,"e",(function(){return v})),n.d(t,"n",(function(){return j})),n.d(t,"i",(function(){return O})),n.d(t,"r",(function(){return k})),n.d(t,"g",(function(){return S})),n.d(t,"p",(function(){return y})),n.d(t,"h",(function(){return T})),n.d(t,"q",(function(){return E})),n.d(t,"b",(function(){return w})),n.d(t,"l",(function(){return _}));var o=n("b738"),i=n.n(o),a=new i.a;function c(e,t){return a.set(e,t)}function r(e){return a.get(e)}function s(e){return a.delete(e)}function u(){return a.clear()}function l(e){return c("shelf",e)}function f(){return r("shelf")}function d(e,t,n){var o=r("".concat(e,"-info"));o||(o={}),o[t]=n,c("".concat(e,"-info"),o)}function h(e,t){var n=r("".concat(e,"-info"));return n?n[t]:null}function b(){return r("locale")}function m(e){return c("locale",e)}function p(e){return h(e,"fontFamily")}function g(e,t){return d(e,"fontFamily",t)}function v(e){return h(e,"fontSize")}function j(e,t){return d(e,"fontSize",t)}function O(e){return h(e,"theme")}function k(e,t){return d(e,"theme",t)}function S(e){return h(e,"location")}function y(e,t){return d(e,"location",t)}function T(e){return h(e,"readTime")}function E(e,t){return d(e,"readTime",t)}function w(e){return h(e,"bookmark")}function _(e,t){d(e,"bookmark",t)}},f353:function(e,t,n){},f756:function(e,t,n){"use strict";n("70ff")},fa7d:function(e,t,n){"use strict";function o(e){var t=37.5;return e/t}function i(e){var t=window.innerWidth>500?500:window.innerWidth;return e*(t/375)}n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}))},ff3b:function(e,t,n){e.exports=n.p+"img/compass-right.8ff56c5c.png"}});
//# sourceMappingURL=app.02802e21.js.map