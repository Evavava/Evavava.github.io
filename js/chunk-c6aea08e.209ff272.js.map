{"version":3,"sources":["webpack:///./src/components/shelf/shelfSearch.vue?5aa0","webpack:///./src/views/store/StoreShelf.vue","webpack:///./src/components/shelf/shelfSearch.vue","webpack:///./src/components/shelf/shelfSearch.vue?298b","webpack:///./src/views/store/StoreShelf.vue?3900","webpack:///./src/views/store/StoreShelf.vue?aaf9"],"names":["class","title","$t","top","bottom","scrollBottom","onScroll","ref","data","shelfList","showDialog","shelfFooterPopupProps","btn","hide","ifInputClicked","type","placeholder","onSearchClick","searchText","clearSearchText","length","onCancelClick","switchLocale","lang","name","tabs","item","key","id","onTabClick","selectedTab","text","mixins","ifHideShadow","methods","this","setShelfTitleVisible","$i18n","locale","computed","watch","offsetY","render","__scopeId","components","shelfTitle","Scroll","shelfSearch","shelfFooter","Popup","ShelfGroupDialog","setOffsetY","$refs","popup","setShelfFooterShowVisible","shelfGroupDialog","show","mounted","getShelfList","setShelfCategory","setCurrentType","isEditMode","$nextTick","scroll","refresh","shelfFooterShowVisible","val"],"mappings":"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","file":"js/chunk-c6aea08e.209ff272.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./shelfSearch.vue?vue&type=style&index=0&id=3f30cc2e&lang=scss&scoped=true\"","<template>\r\n    <div class=\"store-shelf-wrapper\">\r\n        <div class=\"store-shelf\">\r\n            <shelf-title :title=\"$t('shelf.title')\"></shelf-title>\r\n            <scroll\r\n                class=\"store-shelf-scroll-wrapper\"\r\n                :top=\"0\"\r\n                :bottom=\"scrollBottom\"\r\n                @onScroll=\"onScroll\"\r\n                ref=\"scroll\"\r\n            >\r\n                <shelf-search></shelf-search>\r\n                <shelf-list :data=\"shelfList\"></shelf-list>\r\n            </scroll>\r\n            <shelf-footer @showDialog=\"showDialog\"></shelf-footer>\r\n        </div>\r\n        <div class=\"store-shelf-footer-popup\">\r\n            <popup\r\n                :title=\"shelfFooterPopupProps.title\"\r\n                :btn=\"shelfFooterPopupProps.btn\"\r\n                ref=\"popup\"\r\n                @hide=\"hide\"\r\n            ></popup>\r\n        </div>\r\n        <div class=\"store-shelf-group-dialog\">\r\n            <shelf-group-dialog ref=\"shelfGroupDialog\"></shelf-group-dialog>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport shelfTitle from '@/components/shelf/shelfTitle'\r\nimport shelfSearch from '@/components/shelf/shelfSearch'\r\nimport shelfList from '@/components/shelf/shelfList'\r\nimport shelfFooter from '@/components/shelf/shelfFooter'\r\nimport Scroll from '@/components/common/Scroll'\r\nimport { storeShelfMixin } from '../../utils/mixin'\r\nimport { realPx } from '../../utils/utils'\r\n// 本应用create-api把组件封装成一个函数\r\nimport Popup from '@/components/common/Popup'\r\nimport ShelfGroupDialog from '../../components/shelf/ShelfGrouDialog.vue'\r\n\r\nexport default {\r\n    mixins: [storeShelfMixin],\r\n    components: {\r\n        shelfTitle,\r\n        Scroll,\r\n        shelfSearch,\r\n        shelfList,\r\n        shelfFooter,\r\n        Popup,\r\n        ShelfGroupDialog\r\n    },\r\n    data() {\r\n        return {\r\n            scrollBottom: 0\r\n        }\r\n    },\r\n    methods: {\r\n        onScroll(offsetY) {\r\n            this.setOffsetY(offsetY)\r\n        },\r\n        hide() {\r\n            this.$refs.popup.hide()\r\n            this.setShelfFooterShowVisible(false)\r\n        },\r\n        showDialog() {\r\n            this.$refs.shelfGroupDialog.show()\r\n        }\r\n    },\r\n    mounted() {\r\n        this.getShelfList()\r\n        this.setShelfCategory([])\r\n        this.setCurrentType(1)\r\n    },\r\n    watch: {\r\n        isEditMode(isEditMode) {\r\n            this.scrollBottom = isEditMode ? realPx(48) : 0\r\n            this.$nextTick(() => {\r\n                this.$refs.scroll.refresh()\r\n            })\r\n        },\r\n        shelfFooterShowVisible(val) {\r\n            if (val) {\r\n                this.$refs.popup.show()\r\n            } else {\r\n                this.$refs.popup.hide()\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '@/assets/styles/global';\r\n.store-shelf-wrapper {\r\n    .store-shelf {\r\n        position: relative;\r\n        width: 100%;\r\n        height: 100%;\r\n        background: white;\r\n        z-index: 100;\r\n        .store-shelf-scroll-wrapper {\r\n            position: absolute;\r\n            top: 0;\r\n            left: 0;\r\n            z-index: 101;\r\n        }\r\n    }\r\n    .store-shelf-footer-popup {\r\n        width: 100%;\r\n        height: 100%;\r\n        position: relative;\r\n    }\r\n}\r\n</style>\r\n","<template>\r\n    <div\r\n        class=\"shelf-search-wrapper\"\r\n        :class=\"{\r\n            'search-top': ifInputClicked,\r\n            'hide-shadow': ifHideShadow\r\n        }\"\r\n    >\r\n        <div class=\"shelf-search\" :class=\"{ 'search-top': ifInputClicked }\">\r\n            <div class=\"search-wrapper\">\r\n                <div class=\"icon-search-wrapper\">\r\n                    <span class=\"icon-search icon\"></span>\r\n                </div>\r\n                <div class=\"search-input-wrapper\">\r\n                    <input\r\n                        type=\"text\"\r\n                        class=\"search-input\"\r\n                        :placeholder=\"$t('shelf.search')\"\r\n                        @click=\"onSearchClick\"\r\n                        v-model=\"searchText\"\r\n                    />\r\n                </div>\r\n                <div\r\n                    class=\"icon-clear-wrapper\"\r\n                    v-show=\"searchText.length > 0\"\r\n                    @click=\"clearSearchText\"\r\n                >\r\n                    <span class=\"icon-close-circle-fill\"></span>\r\n                </div>\r\n            </div>\r\n            <div\r\n                class=\"icon-locale-wrapper\"\r\n                v-if=\"!ifInputClicked\"\r\n                @click=\"switchLocale\"\r\n            >\r\n                <span class=\"icon-cn icon\" v-if=\"lang === 'cn'\"></span>\r\n                <span class=\"icon-en icon\" v-else></span>\r\n            </div>\r\n            <div class=\"cancel-btn-wrapper\" @click=\"onCancelClick\" v-else>\r\n                <span class=\"cancel-text\">{{ $t('shelf.cancel') }}</span>\r\n            </div>\r\n        </div>\r\n        <transition name=\"hot-search-move\">\r\n            <div class=\"shelf-search-table-wrapper\" v-if=\"ifInputClicked\">\r\n                <div\r\n                    class=\"shelf-search-table-item\"\r\n                    v-for=\"item in tabs\"\r\n                    :key=\"item.id\"\r\n                    @click=\"onTabClick(item.id)\"\r\n                >\r\n                    <span\r\n                        class=\"shelf-search-tab-text\"\r\n                        :class=\"{ 'is-selected': item.id === selectedTab }\"\r\n                    >\r\n                        {{ item.text }}</span\r\n                    >\r\n                </div>\r\n            </div>\r\n        </transition>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { setLocalStorage } from '../../utils/localStorage'\r\nimport { storeShelfMixin } from '../../utils/mixin'\r\nexport default {\r\n    mixins: [storeShelfMixin],\r\n    data() {\r\n        return {\r\n            ifInputClicked: false,\r\n            searchText: '',\r\n            selectedTab: 1,\r\n            ifHideShadow: true\r\n        }\r\n    },\r\n    methods: {\r\n        onSearchClick() {\r\n            this.ifInputClicked = true\r\n            this.setShelfTitleVisible(false)\r\n        },\r\n        onCancelClick() {\r\n            this.ifInputClicked = false\r\n            this.setShelfTitleVisible(true)\r\n        },\r\n        switchLocale() {\r\n            if (this.lang === 'en') {\r\n                this.$i18n.locale = 'cn'\r\n            } else {\r\n                this.$i18n.locale = 'en'\r\n            }\r\n            setLocalStorage('locale', this.$i18n.locale)\r\n        },\r\n        clearSearchText() {\r\n            this.searchText = ''\r\n        },\r\n        onTabClick(id) {\r\n            this.selectedTab = id\r\n        }\r\n    },\r\n    computed: {\r\n        lang() {\r\n            return this.$i18n.locale\r\n        },\r\n        tabs() {\r\n            return [\r\n                { id: 1, text: this.$t('shelf.default') },\r\n                { id: 2, text: this.$t('shelf.progress') },\r\n                { id: 4, text: this.$t('shelf.purchase') }\r\n            ]\r\n        }\r\n    },\r\n    watch: {\r\n        offsetY(offsetY) {\r\n            if (offsetY > 0 && this.ifInputClicked) {\r\n                this.ifHideShadow = false // 显示阴影\r\n            } else {\r\n                this.ifHideShadow = true // 隐藏阴影\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '@/assets/styles/global';\r\n.shelf-search-wrapper {\r\n    position: relative;\r\n    z-index: 105;\r\n    width: 100%;\r\n    height: px2rem(94);\r\n    font-size: px2rem(16);\r\n    background: white;\r\n    box-shadow: 0 px2rem(2) px2rem(2) 0 rgba(0, 0, 0, 0.1);\r\n    &.hide-shadow {\r\n        box-shadow: none;\r\n    }\r\n    &.search-top {\r\n        position: fixed;\r\n        left: 0;\r\n        top: 0;\r\n    }\r\n    .shelf-search {\r\n        position: absolute;\r\n        top: px2rem(42);\r\n        left: 0;\r\n        z-index: 105;\r\n        width: 100%;\r\n        height: px2rem(52);\r\n        display: flex;\r\n        transition: top $animationTime linear;\r\n        &.search-top {\r\n            top: 0;\r\n        }\r\n        .search-wrapper {\r\n            flex: 1;\r\n            display: flex;\r\n            margin: px2rem(8) 0 px2rem(8) px2rem(10);\r\n            border: px2rem(1) solid #ccc;\r\n            border-radius: px2rem(3);\r\n            .icon-search-wrapper {\r\n                flex: 0 0 px2rem(22);\r\n                @include right;\r\n                .icon-search {\r\n                    font-size: px2rem(12);\r\n                }\r\n            }\r\n            .search-input-wrapper {\r\n                flex: 1;\r\n                padding: 0 px2rem(10);\r\n                box-sizing: border-box;\r\n                @include center;\r\n                .search-input {\r\n                    width: 100%;\r\n                    font-size: px2rem(14);\r\n                    border: none;\r\n                    color: #333;\r\n                    &:focus {\r\n                        outline: none;\r\n                    }\r\n                    &::-webkit-input-placeholder {\r\n                        font-size: px2rem(14);\r\n                        color: #ccc;\r\n                    }\r\n                }\r\n            }\r\n            .icon-clear-wrapper {\r\n                flex: 0 0 px2rem(24);\r\n                @include left;\r\n                .icon-close-circle-fill {\r\n                    font-size: px2rem(14);\r\n                    color: #ccc;\r\n                }\r\n            }\r\n        }\r\n        .icon-locale-wrapper {\r\n            flex: 0 0 px2rem(55);\r\n            @include center;\r\n            .icon-cn,\r\n            .icon-en {\r\n                font-size: px2rem(22);\r\n                color: #666;\r\n            }\r\n        }\r\n        .cancel-btn-wrapper {\r\n            flex: 0 0 px2rem(55);\r\n            @include center;\r\n            .cancel-text {\r\n                font-size: px2rem(14);\r\n                color: $color-blue;\r\n            }\r\n        }\r\n    }\r\n    .shelf-search-table-wrapper {\r\n        position: absolute;\r\n        top: px2rem(52);\r\n        left: 0;\r\n        z-index: 105;\r\n        display: flex;\r\n        width: 100%;\r\n        height: px2rem(42);\r\n        .shelf-search-table-item {\r\n            flex: 1;\r\n            @include center;\r\n            .shelf-search-tab-text {\r\n                font-size: px2rem(12);\r\n                color: #999;\r\n                &.is-selected {\r\n                    color: $color-blue;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>\r\n","import { render } from \"./shelfSearch.vue?vue&type=template&id=3f30cc2e&scoped=true\"\nimport script from \"./shelfSearch.vue?vue&type=script&lang=js\"\nexport * from \"./shelfSearch.vue?vue&type=script&lang=js\"\n\nimport \"./shelfSearch.vue?vue&type=style&index=0&id=3f30cc2e&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-3f30cc2e\"\n\nexport default script","import { render } from \"./StoreShelf.vue?vue&type=template&id=315e496e&scoped=true\"\nimport script from \"./StoreShelf.vue?vue&type=script&lang=js\"\nexport * from \"./StoreShelf.vue?vue&type=script&lang=js\"\n\nimport \"./StoreShelf.vue?vue&type=style&index=0&id=315e496e&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-315e496e\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./StoreShelf.vue?vue&type=style&index=0&id=315e496e&lang=scss&scoped=true\""],"sourceRoot":""}